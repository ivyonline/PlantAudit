source('C:/OP17WP02/5-Statistics/Plot.R')
source('C:/OP17WP02/5-Statistics/Plot.R')
source('C:/OP18REFCS03/Stations/VIL/Code/lcc.R')
install.packages("WeibullR")
source('C:/OP18REFCS03/Stations/VIL/Code/lcc.R')
install.packages("randomcoloR")
source('C:/OP18REFCS03/Stations/VIL/Code/lcc.R')
source('C:/OP18REFCS03/Stations/VIL/Code/lcc.R')
source('C:/OP18REFCS03/Stations/VIL/Code/lcc.R')
source('C:/OP18REFCS03/Stations/VIL/Code/lcc.R')
library(DBI)
install.packages("DBI")
library(DBI)
library(RODBC)
install.packages("RODBC")
library(RODBC)
library(RMySQL)
install.packages("RMySQL")
library(RMySQL)
library(xts)
library(ggplot2)
library(hydroTSM) #call the hydrology package for time series analysis
setwd("C:/OP18REFCS03/Stations/VIL/Code/VIL")
dataproduction = dbConnect(MySQL(), user='root', password='', dbname='maynilad_vil', host='localhost')
dbListTables(dataproduction)
dbListFields(dataproduction, 'analysisdate')
rs = dbSendQuery(dataproduction, "select * from analysisdate")
rs=dbFetch(rs, n = -1)
data=c(rs[2],rs[7],rs[20],rs[21])
a=as.Date(data$date,"%Y-%m-%d")
production=data$total_pro_hour
power=data$total_power_hour
ratio=data$ratio
data=data.frame(a,production,power,ratio)
hydropairs(data[,2:3])
#Plot production data
plot.new()
p=ggplot(data=data,aes(a, production))+ geom_line(color = "#00AFBB") + theme(axis.text.x = element_text(angle = 60,hjust=1))+theme_gray(base_size = 14)+ theme(plot.title = element_text(size=12))
#p
min <- as.Date("2014-07-01")
max <-  as.Date("2018-10-31")
#p + scale_x_date(limits = c(min, max))
pp=p+scale_x_date(date_labels = "%Y",date_breaks="year",limits = c(min, max))+labs(title = "Production hourly",x="Years",y="ML")+scale_y_continuous(limits=c(0,10))#+ stat_smooth(method="lm")
print(pp)
min <- as.Date("2014-07-01")
max <-  as.Date("2014-12-30")
#p + scale_x_date(limits = c(min, max))
q+scale_x_date(date_labels = "%m",date_breaks="month",limits = c(min, max))+labs(title = "Production hourly",x="months",y="MLD")+scale_y_continuous(limits=c(2.5,5))
#Plot power consumption data
plot.new()
q=ggplot(data=data,aes(a, power))+ geom_line(color = "#00AFBB") + theme(axis.text.x = element_text(angle = 60,hjust=1))+theme_gray(base_size = 14)+ theme(plot.title = element_text(size=12))
#q
min <- as.Date("2014-07-01")
max <-  as.Date("2018-10-31")
#p + scale_x_date(limits = c(min, max))
qq=q+scale_x_date(date_labels = "%Y",date_breaks="year",limits = c(min, max))+labs(title = "Power hourly",x="Years",y="KW")+scale_y_continuous(limits=c(0,1500))#+ stat_smooth(method="lm")
print(qq)
plot.new()
w=ggplot(data=data,aes(a, ratio))+ geom_line(color = "#00AFBB") + theme(axis.text.x = element_text(angle = 60,hjust=1))+theme_gray(base_size = 14)+ theme(plot.title = element_text(size=12))
#w
min <- as.Date("2014-07-01")
max <-  as.Date("2018-10-31")
#p + scale_x_date(limits = c(min, max))
ww=w+scale_x_date(date_labels = "%Y",date_breaks="year",limits = c(min, max))+labs(title = "Ratio",x="Years",y="")+scale_y_continuous(limits=c(0,450))#+ stat_smooth(method="lm")
print(ww)
dbDisconnect(dataproduction)
